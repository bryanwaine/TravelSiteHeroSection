"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[791],{9791:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var r=n(5155),l=n(2115);let o=(0,l.createContext)(null);function i(){let e=(0,l.use)(o);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var u=n(5752),a=n.n(u);let c=(0,l.forwardRef)(function({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:a,placeholder:c,style:s,whenReady:d,zoom:f,...p},m){let[v]=(0,l.useState)({className:i,id:a,style:s}),[x,h]=(0,l.useState)(null),g=(0,l.useRef)(void 0);(0,l.useImperativeHandle)(m,()=>x?.map??null,[x]);let w=(0,l.useCallback)(r=>{if(null!==r&&!g.current){let l=new u.Map(r,p);g.current=l,null!=n&&null!=f?l.setView(n,f):null!=e&&l.fitBounds(e,t),null!=d&&l.whenReady(d),h(Object.freeze({__version:1,map:l}))}},[]);(0,l.useEffect)(()=>()=>{x?.map.remove()},[x]);let b=x?l.createElement(o,{value:x},r):c??null;return l.createElement("div",{...v,ref:w},b)});var s=n(7650);function d(e,t){let n=(0,l.useRef)(t);(0,l.useEffect)(function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function f(e,t){let n=(0,l.useRef)(void 0);(0,l.useEffect)(function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}},[e,t])}function p(e,t){let n=e.pane??t.pane;return n?{...e,pane:n}:e}function m(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function v(e,t){return null==t?function(t,n){let r=(0,l.useRef)(void 0);return r.current||(r.current=e(t,n)),r}:function(n,r){let o=(0,l.useRef)(void 0);o.current||(o.current=e(n,r));let i=(0,l.useRef)(n),{instance:u}=o.current;return(0,l.useEffect)(function(){i.current!==n&&(t(u,n,i.current),i.current=n)},[u,n,t]),o}}function x(e){return function(t){var n;let r=i(),o=e(p(t,r),r);return d(r.map,t.attribution),f(o.current,t.eventHandlers),n=o.current,(0,l.useEffect)(function(){return(r.layerContainer??r.map).addLayer(n.instance),function(){r.layerContainer?.removeLayer(n.instance),r.map.removeLayer(n.instance)}},[r,n]),o}}let h=function(e,t){var n;return n=x(v(e,t)),(0,l.forwardRef)(function(e,t){let{instance:r}=n(e).current;return(0,l.useImperativeHandle)(t,()=>r),null})}(function({url:e,...t},n){return m(new u.TileLayer(e,p(t,n)),n)},function(e,t,n){let{opacity:r,zIndex:l}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=l&&l!==n.zIndex&&e.setZIndex(l);let{url:o}=t;null!=o&&o!==n.url&&e.setUrl(o)}),g=function(e,t){var n;return n=x(v(e,t)),(0,l.forwardRef)(function(e,t){let{instance:r,context:i}=n(e).current;(0,l.useImperativeHandle)(t,()=>r);let{children:u}=e;return null==u?null:l.createElement(o,{value:i},u)})}(function({position:e,...t},n){var r;let l=new u.Marker(e,t);return m(l,(r={overlayContainer:l},Object.freeze({...n,...r})))},function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())}),w=function(e,t){var n,r;return n=v(e),r=function(e,r){let l=i(),o=n(p(e,l),l);return d(l.map,e.attribution),f(o.current,e.eventHandlers),t(o.current,l,e,r),o},(0,l.forwardRef)(function(e,t){let[n,o]=(0,l.useState)(!1),{instance:i}=r(e,o).current;(0,l.useImperativeHandle)(t,()=>i),(0,l.useEffect)(function(){n&&i.update()},[i,n,e.children]);let u=i._contentNode;return u?(0,s.createPortal)(e.children,u):null})}(function(e,t){return m(new u.Tooltip(e,t.overlayContainer),t)},function(e,t,{position:n},r){(0,l.useEffect)(function(){let l=t.overlayContainer;if(null==l)return;let{instance:o}=e,i=e=>{e.tooltip===o&&(null!=n&&o.setLatLng(n),o.update(),r(!0))},u=e=>{e.tooltip===o&&r(!1)};return l.on({tooltipopen:i,tooltipclose:u}),l.bindTooltip(o),function(){l.off({tooltipopen:i,tooltipclose:u}),null!=l._map&&l.unbindTooltip()}},[e,t,r,n])});function b(){return i().map}let y=e=>{let{destinations:t,isMobile:n,setSelectedDestination:o,setMobileBookingVisible:u,setDisplayBookingSummary:s,setDisplayBookingForm:d,setDisplayPaymentForm:f,setDisplaySuccessMessage:p}=e,[m,v]=(0,l.useState)(null),x=(0,l.useRef)({}),b=a().divIcon({className:"",html:'\n        <div class="relative w-12 h-12 ">\n          \x3c!-- Pulsating background --\x3e\n          <div class="absolute top-[-20px] left-[-12px] w-10 h-10 bg-[#6FA638]/30 rounded-full animate-ping"></div>\n    \n          \x3c!-- Location pin --\x3e\n          <div class="absolute top-[-15px] left-[-5px] w-8 h-8">\n          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#6FA638" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-map-pin-icon lucide-map-pin"><path d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"/><circle cx="12" cy="10" r="3"/></svg></div>\n        </div>\n      ',iconSize:[24,24],iconAnchor:[12,12]});return(0,r.jsxs)(c,{center:[20,0],zoom:2,scrollWheelZoom:!0,className:" !relative !w-full !h-full !z-0 !rounded-3xl",children:[(0,r.jsx)(h,{attribution:'\xa9 <a href="https://www.openstreetmap.org/">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,r.jsx)(function(e){let{name:t,zIndex:n=800}=e,r=i().map;return(0,l.useEffect)(()=>{r.getPane(t)||r.createPane(t);let e=r.getPane(t);e&&(e.style.zIndex=n.toString())},[r,t,n]),null},{name:"tooltipPane",zIndex:8e12}),t.map((e,t)=>(0,r.jsx)(g,{position:e.position,icon:b,eventHandlers:{click:()=>{o(e),n&&(u(!0),s(!0),d(!1),f(!1),p(!1))},mouseover:()=>{v(e.id),x.current[e.id]&&x.current[e.id].play()},mouseout:()=>{v(null),x.current[e.id]&&(x.current[e.id].currentTime=0)}},children:m===e.id&&!n&&(0,r.jsx)(w,{pane:"tooltipPane",permanent:!0,direction:"top"===e.direction?"top":"bottom",offset:[0,"top"===e.direction?-25:5],interactive:!0,opacity:1,className:"".concat(m!==e.id||n?"hidden":"block","!p-0 !bg-transparent !border-0 !shadow-none !z-[99999999]"),children:(0,r.jsxs)("div",{className:"w-30 md:w-64 bg-white rounded-2xl shadow-lg overflow-hidden animate-scale-in !z-[99999999]",children:[(0,r.jsx)("video",{ref:t=>{t&&(x.current[e.id]=t)},className:"w-full h-15 md:h-32 object-cover rounded-t-2xl",src:e.video,autoPlay:!0,muted:!0,loop:!0,playsInline:!0}),(0,r.jsxs)("div",{className:"py-1 px-2 md:p-4 ",children:[(0,r.jsx)("h3",{className:"font-bold text-[#3D592F] text-xs md:text-lg",children:e.name}),(0,r.jsx)("p",{className:"text-[#658C3E] text-[10px] md:text-sm",children:e.country}),(0,r.jsxs)("div",{className:"hidden md:flex items-center justify-between mt-2",children:[(0,r.jsxs)("span",{className:"text-[#5EA4BF] font-semibold",children:["$",e.price]}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:e.duration})]})]})]})})},t)),(0,r.jsx)(e=>{let{positions:t}=e,n=i().map;return(0,l.useEffect)(()=>{if(window.innerWidth<=768&&t.length){let e=a().latLngBounds(t);n.fitBounds(e,{padding:[30,30],animate:!0})}},[n,t]),null},{positions:t.map(e=>e.position)})]})}}}]);